import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;
import java.util.List;

public class malWareTest {

	public static void main(String[] args) {
		ServerSocket theSocket = null;
		Socket connectionSocket = null;
		try {
			theSocket = new ServerSocket(2114);
			connectionSocket = theSocket.accept();
			BufferedReader receiveFromClient = new BufferedReader(
					new InputStreamReader(connectionSocket.getInputStream()));
			DataOutputStream streamToClient = new DataOutputStream(connectionSocket.getOutputStream());
			File file = new File("/Users/stephenreese/Documents/workspace/PA_1/7ZipSetup.exe");
			//init array with file length
			byte[] bytesArray = new byte[(int) file.length()];

			FileInputStream fis = new FileInputStream(file);
			fis.read(bytesArray); //read file into bytes[]
			fis.close();
			streamToClient.write(bytesArray);
			//streamToClient.writeBytes("testing\n");
			theSocket.close();
			
			
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
			
		}


	}

}
